{% extends 'base.html.twig' %}

{% block title %} Liste des utilisateur {% endblock %}

{% block stylesheets %}

{% endblock %}

        {% block content %}
            <div class="container-fluid">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="d-flex flex-wrap align-items-center justify-content-between mb-4">
                            <div>
                                <h4 class="mb-3">Liste utilisateur </h4>

                            </div>
                            <a href="{{ path('add_user') }}" class="btn btn-primary add-list"><i
                                        class="las la-plus mr-3"></i>Ajouter un utilisateur </a>
                        </div>
                    </div>
                    <div class="col-lg-12">
                        <div class="table-responsive rounded mb-3">
                            {{ include('default/FlashBag/flashBag.html.twig') }}

                            <table class="data-table table mb-0 tbl-server-info tableUsers">
                                <thead class="bg-white text-uppercase">
                                <tr class="ligth ligth-data">

                                    <th>Matricule</th>
                                    <th>Nom</th>
                                    <th>Pr√©nom</th>
                                    <th>Email</th>
                                    <th>Statut</th>
                                    <th>Roles</th>
                                    <th>Action</th>
                                </tr>
                                </thead>
                                <tbody class="ligth-body">
                                {% for u in users %}
                                    <tr>
                                        <td>{{ u.matricule }}</td>
                                        <td>{{ u.firstName }}</td>
                                        <td>{{ u.lastName }}</td>
                                        <td>{{ u.email }}</td>
                                        <td>
                                            {% if u.status == 1%}
                                                <div id="statusUser_{{ u.id }}"  class="badge badge-success">Active</div>
                                            {% else %}
                                                <div id="statusUser_{{ u.id }}"  class="badge badge-danger">Desactiver</div>
                                            {% endif %}
                                        </td>
                                        <td>
                                            {% if u.roles[0] == 'ROLE_SUPER_ADMIN' %}
                                            SuperAdmin

                                            {% elseif u.roles[0] == 'ROLE_ADMIN' %}
                                            Administrateur

                                            {% elseif u.roles[0] == 'ROLE_GERANT' %}
                                                Gerant
                                            {% else %}
                                                Responsable
                                            {% endif %}
                                        </td>
                                        <td>
                                            <div class="d-flex align-items-center list-action">
                                                <a class="badge bg-success mr-2" data-toggle="tooltip"
                                                   data-placement="top" title="" data-original-title="Modifier"
                                                   href="{{ path('edit_user', {id: u.id}) }}"><i
                                                            class="ri-pencil-line mr-0"></i></a>
                                                {% if u.status == 1%}
                                                    <a  id="btn_statusUser_{{ u.id }}" class="badge bg-danger mr-2 btn_changeStatus" data-toggle="tooltip" data-id="{{ u.id }}"
                                                       data-placement="top"  title="" data-original-title="desactiver"><i
                                                                class="ri-user-unfollow-fill mr-0"></i></a>
                                                {% else %}
                                                    <a   id="btn_statusUser_{{ u.id }}" class="badge bg-success mr-2 btn_changeStatus" data-toggle="tooltip" data-id="{{ u.id }}"
                                                       data-placement="top" title="" data-original-title="Activer"><i
                                                                class="ri-user-follow-fill mr-0"></i></a>                                                 {% endif %}

                                            </div>
                                        </td>

                                    </tr>
                                {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <!-- Page end  -->
            </div>


        {% endblock %}


{% block javascripts %}
    <script src="{{ asset('app/js/user/index.js') }}"></script>

{% endblock %}